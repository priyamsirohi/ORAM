package server;

import java.io.IOException;
import java.io.ObjectInputStream;
import java.net.ServerSocket;
import java.net.UnknownHostException;

import ringoram.*;
import message.*;

public class Server {

	private Stash stash;
	private TreeORAM tree;
	private ServerSocket serverListener;
	private int portnum;
	
	Server(int N, int bucket_size, int num_dummy_blocks, int portnum) throws UnknownHostException, IOException{
		this.stash = new Stash();
		this.tree = new TreeORAM(N,bucket_size,num_dummy_blocks);
		this.portnum = portnum;
	}
	
	public void run() throws IOException{
		while (true){
		this.serverListener = new ServerSocket(portnum);
		ObjectInputStream is = new ObjectInputStream(serverListener.accept().getInputStream());
		System.out.println(is);
		}
	}
	
}
