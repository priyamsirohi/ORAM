package ringoam;

import java.io.IOException;

import Operations.*;

public class TreeORAM {

	protected static int bucket_size = 32;
	protected static int num_dummy_blocks = 16;
	
	protected long req_id;
	private int N;
	
	private int capacity;
	
	public Node[] tree;
	
	TreeORAM (int N, int bucket_size, int capacity, int node_id){
		this.N = N;
		this.bucket_size = bucket_size;
		this.capacity = capacity;
		this.req_id = 0;
		tree = new Node[2*N];
							
	}
	
	protected void build_tree(Node root) throws IOException{
		
		String key = "Node#" + root.node_id;
		root.left_id = root.node_id+1;
		root.right_id = root.node_id+2;
		WriteNode wn = new WriteNode(counter, key);
		wn.write_to_file(root);
		Node left_child = new Node(root.node_id+1, this.bucket_size,this.num_dummy_blocks);
		Node right_child = new Node(root.node_id+2, this.bucket_size,this.num_dummy_blocks);
		build_tree(left_child);
		build_tree(right_child);
	}
}
